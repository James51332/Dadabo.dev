---
layout: post
title: Revisiting My Ocean Simulation
---

It's been a fair bit of time since my first attempt at simulation the ocean through a sum of sines approach. Now, I'm ready to tackle a more daunting, but much more appealling approach using the Fourier transform!

<!--more-->

### Where We Left Off

This is the third post relevant to our journey to simulate ocean water. The [first post](https://dadabo.dev/2024/03/31/waves.html) discusses the process of transforming a flat plane into a surface that vaguely resembles water by adding waves of various directions, frequencies, and amplitudes together to offset its vertices. The [second post](https://dadabo.dev/2024/04/11/fourier.html) discusses the Fourier transform, and is an intuitive introduction to the method we will use to enhance our ocean!

Right now, our understanding of the Fourier transform is that it is a convenient way to convert between a signal's *time domain* and its *frequency domain* (also known as its *spectrum*). We can also take the inverse transform to add back together all of the waves. For our ocean simulation we can define a spectrum that is obtained from real oceanographic data, and use the inverse transform to generate a surface height map.

However, let's take a moment to consider how this is different than what we did before. Both approaches sum together a variety of waves, but the spectrum for the sum of sines was generated using fractal brownian motion. So why do we need the Fourier transform? The answer lies in the time complexity of the algorithm. 

Consider that as the size of our ocean grows (to be convincing, it needs to), the shader must add up waves for every point displaced. If the ocean is $n$ x $n$ vertices, the number of calculations is proportional to $n^2$. Therefore, we consider the algorithm $O(n^2)$, pronounced $O$ of $n^2$. As we scale our ocean, the number of computations grows too fast to be reasonable. Here's where the Fourier transform comes in: *Using symmetry revealed by waves in the complex plane, the Fourier transform's time complexity can be reduced!* What a mouthful

## More on the Fourier Transform

